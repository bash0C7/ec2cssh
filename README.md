# ec2csshx

Cluster SSH connect to pattern mached hosts (Connected by csshx) (Hosts in ssh config written by ec2ssh)

## Installation

Add this line to your application's Gemfile:

    gem 'ec2csshx'

And then execute:

    $ bundle

Or install it yourself as:

    $ gem install ec2csshx

## Prepair

- install ec2ssh & run ec2ssh init
- install csshx

## Usage

### simple

````sh
$ ec2csshx '\S+-production' 
````

### Parameters

#### 1. Server name pattern (required)

ex) 

SSH Config after run 'ec2ssh update'
````
### EC2SSH BEGIN ###
# Generated by ec2ssh http://github.com/mirakui/ec2ssh
# DO NOT edit this block!
# Updated Sun Dec 05 00:00:14 +0900 2010

# section: default
Host app-server-1.us-west-1
  HostName ec2-xxx-xxx-xxx-xxx.us-west-1.compute.amazonaws.com
Host app-server-2.us-west-1
  HostName ec2-xxx-xxx-xxx-xxx.us-west-1.compute.amazonaws.com
Host db-server-1.ap-southeast-1
  HostName ec2-xxx-xxx-xxx-xxx.ap-southeast-1.compute.amazonaws.com
### EC2SSH END ###
````

Server name pattern: 'app-server.*' => connect to app-server-1.us-west-1 and app-server-2.us-west-1

#### 2. ec2ssh_update_command (optional) default 'ec2ssh update'

'ec2ssh' & Parameters 

ex) 'ec2ssh update --aws-key my_key1'

#### 3. cssh_command (optional) default 'csshx'

'cssh' & Parameters

ex) 'csshx --config /path/to/configfile'

#### 4. port (optional)

SSH Port No

## Contributing

1. Fork it
2. Create your feature branch (`git checkout -b my-new-feature`)
3. Commit your changes (`git commit -am 'Add some feature'`)
4. Push to the branch (`git push origin my-new-feature`)
5. Create new Pull Request
